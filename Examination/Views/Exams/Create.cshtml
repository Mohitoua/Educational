@model ExamDTO
@{
}

<div class="row">
    <div class="col-md-8 mx-auto rounded border p-3">
        <h2 class="text-center mb-5">Yeni İmtahan</h2>

        <form method="post" enctype="multipart/form-data">

            @* <div class="row mb-3"> *@
            @*     <label class="col-sm-4 col-form-label">Lesson Code</label> *@
            @*     <div class="col-sm-8"> *@
            @*         <input class="form-control" asp-for="LCode" /> *@
            @*         <span asp-validation-for="LCode" class="text-danger"></span> *@
            @*     </div> *@
            @* </div> *@

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Dərsin kodu</label>
                <div class="col-sm-8">
                    @Html.DropDownListFor(model => model.LCode, (SelectList)ViewBag.LessonList, "---", new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.LCode, "", new { @class = "text-danger" })
                </div>
            </div>


            @* <div class="row mb-3"> *@
            @*     <label class="col-sm-4 col-form-label">Pupil Code</label> *@
            @*     <div class="col-sm-8"> *@
            @*         <input class="form-control" asp-for="PCode" /> *@
            @*         <span asp-validation-for="PCode" class="text-danger"></span> *@
            @*     </div> *@
            @* </div> *@

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Şagirdin kodu</label>
                <div class="col-sm-8">
                    @Html.DropDownListFor(model => model.PCode, (SelectList)ViewBag.PupilList, "---", new { @class = "form-control" })
                    @Html.ValidationMessageFor(model => model.PCode, "", new { @class = "text-danger" })
                </div>
            </div>


            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">İmtahan tarixi</label>
                <div class="col-sm-8">
                    <input class="form-control" asp-for="EDate" type="date" />
                    <span asp-validation-for="EDate" class="text-danger"></span>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-4 col-form-label">İmtahan qiyməti</label>
                <div class="col-sm-8">
                    <div class="input-group">
                        <input class="form-control" asp-for="EPrice" />
                        <span class="input-group-text">₼</span>
                    </div>
                    <span asp-validation-for="EPrice" class="text-danger"></span>
                </div>
            </div>

            <div class="row">
                <div class="offset-sm-4 col-sm-4 d-grid">
                    <button type="submit" class="btn btn-primary">Yadda saxla</button>
                </div>
                <div class="col-sm-4 d-grid">
                    <a class="btn btn-outline-primary" asp-controller="Exams" asp-action="Index" role="button">İmtina</a>
                </div>
            </div>

        </form>
    </div>
</div>


@section Scripts 
{
    <script>
        document.querySelector('form').addEventListener('submit', function (e) 
        {
            var lessonDropdown = document.getElementById('LCode');
            var pupilDropdown = document.getElementById('PCode');
            var examDate = document.getElementById('EDate');
            var examPrice = document.getElementById('EPrice');
            if ((lessonDropdown.value === "") || (pupilDropdown.value === "") || (examDate.value === "") || (examPrice.value === ""))
            {
                e.preventDefault(); 
            } 
        });
    </script>
}